<div class="container my-4">
    <!-- Team Latest Results -->
    <div class="card card--has-table">
        <div class="card__header card__header--has-btn">
            <h4>Players</h4>
            <!-- Result Filter -->
            <ul class="team-result-filter">
                <li class="team-result-filter__item">
                    <select class="form-control" #timePeriodSelect>
                        <option value=0>All Time</option>
                        <option value="365">Year</option>
                        <option value="31">Month</option>
                        <option value="7">Week</option>
                    </select>
                </li>
                <li class="team-result-filter__item">
                    <button type="button" class="btn btn-default btn-outline btn-xs card-header__button"
                        (click)="setTimePeriod(timePeriodSelect.value)">
                        Filter By Time Period
                    </button>
                </li>
            </ul>
            <!-- Result Filter / End -->
        </div>
        <div class="card__content">
            <app-spinner *ngIf="isLoading"></app-spinner>
            <table *ngIf="!isLoading" class="table table--large table-striped">
                <thead>
                    <tr>
                        <th class="team-result__date">Name</th>
                        <th class="team-result__vs">Steam</th>
                        <th>Nationality</th>
                        <th style="cursor: pointer" class="team-result__status"
                            (click)="loadPage(currentPage, 'Matches')">
                            <span style=" white-space: nowrap; ">
                                Appearances&nbsp;
                                <i *ngIf="sortBy === 'Matches' && sortOrder === 'ASC'"
                                    class="fas fa-sort-up"></i>
                                <i *ngIf="sortBy === 'Matches' && sortOrder === 'DESC'"
                                    class="fas fa-sort-down"></i>
                                <i *ngIf="sortBy !== 'Matches'" class="fas fa-sort"></i>
                            </span>
                        </th>
                        <th style="cursor: pointer" class="team-result__status" (click)="loadPage(currentPage, 'Wins')">
                            <span style=" white-space: nowrap; ">
                                    Wins&nbsp;
                                <i *ngIf="sortBy === 'Wins' && sortOrder === 'ASC'"
                                    class="fas fa-sort-up"></i>
                                <i *ngIf="sortBy === 'Wins' && sortOrder === 'DESC'"
                                    class="fas fa-sort-down"></i>
                                <i *ngIf="sortBy !== 'Wins'" class="fas fa-sort"></i>
                            </span>
                        </th>
                        <th style="cursor: pointer" class="team-result__status"
                            (click)="loadPage(currentPage, 'Losses')">
                            <span style=" white-space: nowrap; ">
                                    Losses&nbsp;
                                <i *ngIf="sortBy === 'Losses' && sortOrder === 'ASC'"
                                    class="fas fa-sort-up"></i>
                                <i *ngIf="sortBy === 'Losses' && sortOrder === 'DESC'"
                                    class="fas fa-sort-down"></i>
                                <i *ngIf="sortBy !== 'Losses'" class="fas fa-sort"></i>
                            </span>
                        </th>
                        <th style="cursor: pointer" class="team-result__status"
                            (click)="loadPage(currentPage, 'Draws')">
                            <span style=" white-space: nowrap; ">
                                    Draws&nbsp;
                                <i *ngIf="sortBy === 'Draws' && sortOrder === 'ASC'"
                                    class="fas fa-sort-up"></i>
                                <i *ngIf="sortBy === 'Draws' && sortOrder === 'DESC'"
                                    class="fas fa-sort-down"></i>
                                <i *ngIf="sortBy !== 'Draws'" class="fas fa-sort"></i>
                            </span>
                        </th>
                        <th style="cursor: pointer" class="team-result__status"
                            (click)="loadPage(currentPage, 'Goals')">
                            <span style=" white-space: nowrap; ">
                                    Goals&nbsp;
                                <i *ngIf="sortBy === 'Goals' && sortOrder === 'ASC'"
                                    class="fas fa-sort-up"></i>
                                <i *ngIf="sortBy === 'Goals' && sortOrder === 'DESC'"
                                    class="fas fa-sort-down"></i>
                                <i *ngIf="sortBy !== 'Goals'" class="fas fa-sort"></i>
                            </span>
                        </th>
                        <th class="team-result__ball-posession">Yellow Cards</th>
                        <th class="team-result__game-overview">Red Cards</th>
                        <th class="team-result__game-overview">Assists</th>
                        <th class="team-result__game-overview">Avg. Passes</th>
                        <th class="team-result__game-overview">Avg. Distance</th>
                        <th class="team-result__game-overview"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let statistics of playerStatistics | paginate: { itemsPerPage: 10, currentPage: currentPage, totalItems: totalItems }">
                        <td class="team-result__score">{{statistics.player.name}}</td>
                        <td class="team-result__vs">
                            <a *ngIf="statistics.player.steamUserProfile"
                                [attr.href]="getSteamProfileLink(statistics.player.steamID)">
                                <img [attr.src]="statistics.player.steamUserProfile.avatar"
                                    style="height: 16px; width: 16px;">
                            </a>
                        </td>
                        <td class="team-result__ball-posession text-center">
                            <ng-container *ngIf="statistics.player.steamUserProfile">
                                <img *ngIf="statistics.player.steamUserProfile.loccountrycode; else unknownFlag"
                                    src="https://www.countryflags.io/{{statistics.player.steamUserProfile.loccountrycode}}/flat/24.png">
                                <ng-template #unknownFlag><i class="fas fa-question"></i></ng-template>
                            </ng-container>
                        </td>
                        <td class="team-result__status">{{statistics.matches}}</td>
                        <td class="team-result__status">{{statistics.wins}}</td>
                        <td class="team-result__status">{{statistics.losses}}</td>
                        <td class="team-result__status">{{statistics.draws}}</td>
                        <td class="team-result__status">{{statistics.goals}}</td>
                        <td class="team-result__status">{{statistics.yellowCards}}</td>
                        <td class="team-result__status">{{statistics.redCards}}</td>
                        <td class="team-result__status">{{statistics.assists}}</td>
                        <td class="team-result__status">{{statistics.passes}}</td>
                        <td class="team-result__status">{{statistics.distanceCovered}}</td>
                        <td class="team-result__game-overview">
                            <a [routerLink]="['../player-profile', statistics.player.id]"
                                class="btn btn-xs btn-outline-primary btn-block">Profile</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div *ngIf="!isLoading && totalPages > 1" class="text-center mb-4">
        <pagination-controls (pageChange)="loadPage($event)"></pagination-controls>
    </div>
</div>
<!-- Team Latest Results / End -->