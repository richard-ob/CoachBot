<div class="container my-4">
    <!-- Team Latest Results -->
    <div id="player-profile-recent-matches">
        <div class="card">
            <div class="card__header">
                <h4>Edit Profile</h4>
                <!-- Result Filter -->
                <!-- Result Filter / End -->
            </div>
            <div class="card__content">
                <div class="row">
                    <app-spinner *ngIf="isLoading" class="m-auto"></app-spinner>
                    <div *ngIf="!isLoading" class="col-md-12">
                        <div class="form-group">
                            <label class="control-label" for="input-default">Nickname</label>
                            <input type="text" class="form-control" id="input-default" [(ngModel)]="player.name"
                                placeholder="Your most well-known alias">
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="input-default">Steam Account</label>
                            <ng-container *ngIf="player.steamID">
                                <p>
                                    <img [attr.src]="steamUserProfile.avatar" style="height: 16px; width: 16px;"
                                        class="mr-2">
                                    <a [attr.href]="steamUserProfile.profileurl"
                                        target="_blank">{{steamUserProfile.personaname}}</a>
                                </p>
                            </ng-container>
                            <ng-container *ngIf="!player.steamID">
                                <p><a [routerLink]="['/validate-steamid']">Link Steam Account</a></p>
                            </ng-container>
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="input-default">Playing Since</label>
                            <mat-datepicker #picker></mat-datepicker>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend clickable">
                                    <span class="input-group-text" id="basic-addon1" (click)="picker.open()">
                                        <i class="fas fa-calendar"></i>
                                    </span>
                                </div>
                                <input matInput class="form-control" [matDatepicker]="picker"
                                    [(ngModel)]="player.playingSince">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="input-default">Nationality</label>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend clickable">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i *ngIf="player.country" class="flag-icon" [ngClass]="'flag-icon-' + (countries | filterBy:['id']:player.countryId)[0].code.toLowerCase()"></i>
                                    </span>
                                </div>
                                <select class="form-control" id="input-default" [(ngModel)]="player.countryId"
                                    placeholder="Select nationality...">
                                    <option *ngFor="let country of countries" [ngValue]="country.id">{{country.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label" for="input-default">Teams</label>
                            <ul *ngIf="(player.teams | filterBy: ['isCurrentTeam']:'true').length; else unteamed">
                                <li *ngFor="let playerTeam of player.teams | filterBy: ['isCurrentTeam']:'true'">
                                    <span class="mr-2">{{playerTeam.team.name}}</span>
                                    <button href="#" class="btn btn-danger btn-xs" type="button"
                                        (click)="leaveTeam(playerTeam)">Leave</button>
                                </li>
                            </ul>
                            <ng-template #unteamed>
                                <div class="text-muted">You are no part of any teams currently.</div>
                            </ng-template>
                        </div>
                        <div class="float-right">
                            <button class="btn btn-success btn-sm" (click)="saveChanges()">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Team Latest Results / End -->
    </div>